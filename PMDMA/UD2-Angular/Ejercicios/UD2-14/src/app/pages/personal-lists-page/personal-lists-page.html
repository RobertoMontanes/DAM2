<body>
    <!-- Header -->
    <header class="custom-header">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center">
                <div class="d-flex align-items-center">
                    <i class="bi bi-list-check fs-3 text-white me-3"></i>
                    <h1 class="h4 mb-0 text-white">Gestor de Listas</h1>
                </div>

                <div class="d-flex align-items-center">
                    <div class="user-info me-3">
                        <i class="bi bi-person-circle me-1"></i>
                        <span></span>
                    </div>
                    <button class="btn btn-logout" id="logoutBtn">
                        <i class="bi bi-box-arrow-right me-1"></i> Cerrar Sesión
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Contenido Principal -->
    <main class="container py-4" style="width: 100%;">

        <div class="row">
            <div class="col-12">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h3 class="h5 mb-0">Todas tus listas</h3>
                    <div>
                    </div>
                </div>

                <div id="angularContent">
                    @if (loading) {
                    @if (error) {
                    <div class="loading-container d-none" id="errorState">
                        <i class="bi bi-exclamation-triangle text-danger fs-1"></i>
                        <p class="mt-3">Error loading data. Please try again later.</p>
                        <button class="btn btn-primary mt-2" id="retryBtn">Reintentar</button>
                    </div>
                    }@else {
                    <div class="loading-container" id="loadingState">
                        <div class="spinner-border" role="status">
                            <span class="visually-hidden">Cargando...</span>
                        </div>
                        <p class="mt-3 text-muted">Cargando tus listas...</p>
                    </div>
                    }
                    }@else {
                        @if (listData.length == 0) {
                            <div class="empty-state d-none" id="emptyState">
                                <div class="empty-state-icon">
                                    <i class="bi bi-inbox"></i>
                                </div>
                                <h4>No lists available.</h4>
                                <p class="text-muted">Parece que aún no has creado ninguna lista.</p>
                                <button class="btn btn-primary mt-2">
                                    <i class="bi bi-plus-circle me-1"></i> Crear primera lista
                                </button>
                            </div>
                        }@else {
                            <div class="lists-container" id="listsContainer">
                                @for (lista of listData; track lista.id) {
                                    <app-lista-object-component [lista]="lista"></app-lista-object-component>
                                }
                            </div>
                        }
                    }
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>Gestor de Listas</h5>
                    <p class="mb-0">Una aplicación sencilla para organizar tus tareas y listas de manera eficiente.</p>
                </div>
                <div class="col-md-3">
                    <h5>Enlaces</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white-50 text-decoration-none">Inicio</a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none">Crear lista</a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none">Configuración</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>Soporte</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white-50 text-decoration-none">Ayuda</a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none">Contacto</a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none">Política de privacidad</a></li>
                    </ul>
                </div>
            </div>
            <hr class="bg-light my-3">
            <div class="text-center">
                <p class="mb-0">&copy; 2023 Gestor de Listas. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>
</body>