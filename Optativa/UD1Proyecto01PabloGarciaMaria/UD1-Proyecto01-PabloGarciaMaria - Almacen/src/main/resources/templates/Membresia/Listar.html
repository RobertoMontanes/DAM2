<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<span th:if="${success}" th:text="${success}"></span>
<span th:if="${error}" th:text="${error}"></span>

<h1>Lista de Membresias</h1>
<table border="1">
    <thead>
    <tr>
        <th>ID</th>
        <th>Nombre Usuario</th>
        <th>Nombre Subscripcion</th>
        <th>Fecha Inicio</th>
        <th>Fecha Fin</th>
        <th>Activa</th>
        <th>Cancelado</th>
        <th>Acciones</th>
        <th> Acciones Cliente </th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="membresia : ${membresias}">
        <td th:text="${membresia.id}">1</td>
        <td th:text="${membresia.usuario}">Usuario</td>
        <td th:text="${membresia.subscripcion}">Subscripcion</td>
        <td th:text="${membresia.fechaInicio}">2024-01-01</td>
        <td th:text="${membresia.fechaFin}">2024-12-31</td>
        <td th:text="${membresia.activa}">true</td>
        <td th:text="${membresia.cancelado}">false</td>
        <td>
            <a th:href="@{|/membresias/editar/${membresia.id}|}">Editar</a>
            <form th:action="@{|/membresias/${membresia.id}|}" th:method="Delete" style="display:inline">
                <button type="submit">Eliminar</button>
            </form>
        </td>
        <td>
            <form th:action="@{|/membresias/cancelar/${membresia.id}|}" th:method="PUT" style="display:inline">
                <button type="submit" th:disabled="${membresia.cancelado or !membresia.activa}" th:text="${'CANCELAR'}"></button>
            </form>
        </td>
    </tr>
    </tbody>
</table>

<a href="/membresias/nueva">Agregar Nueva Membresia</a>
<a href="/">Volver al inicio</a>

</body>
</html>